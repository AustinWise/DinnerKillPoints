@model DkpWeb.Models.NewTransactionModel

@{
    ViewBag.Title = "Add";
}

<h2>Add a transaction</h2>
<p>Add a single transction below.</p>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "Transaction creation was unsuccessful. Please correct the errors and try again.")
    <div>
        <fieldset>
            <legend>New Transaction</legend>

            <div class="editor-label">
                @Html.LabelFor(m => m.Amount)
            </div>
            <div class="editor-field">
                $@Html.TextBoxFor(m => m.Amount)
                @Html.ValidationMessageFor(m => m.Amount)
            </div>

            <div class="editor-label">
                @Html.LabelFor(m => m.Description)
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.Description)
                @Html.ValidationMessageFor(m => m.Description)
            </div>

            <div class="editor-label">
                @Html.LabelFor(m => m.Debtor)
            </div>
            <div class="editor-field">
                <select name="Debtor" id="Debtor">
                    <option value="0">-select someone-</option>
                    @foreach (Austin.DkpLib.Person p in ViewBag.People)
                    {
                        <option value="@p.ID" @(Model.Debtor == p.ID ? "selected" : "")>@p.FirstName @p.LastName</option>
                    }
                </select>
                @Html.ValidationMessageFor(m => m.Debtor)
            </div>

            <div class="editor-label">
                @Html.LabelFor(m => m.Creditor)
            </div>
            <div class="editor-field">
                <select name="Creditor" id="Creditor">
                    <option value="0">-select someone-</option>
                    @foreach (Austin.DkpLib.Person p in ViewBag.People)
                    {
                        <option value="@p.ID" @(Model.Creditor == p.ID ? "selected" : "")>@p.FirstName @p.LastName</option>
                    }
                </select>
                @Html.ValidationMessageFor(m => m.Creditor)
            </div>

            <p>
                <input type="submit" value="Add" />
            </p>
        </fieldset>
    </div>
}